<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algebra Factorization Adventure</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'algebra-blue': '#4a7bed',
                        'algebra-green': '#10b981',
                        'algebra-yellow': '#facc15',
                        'algebra-red': '#ef4444',
                        'bg-light': '#fefefe',
                        'bg-dark': '#f3f4f6',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        
        /* Custom styles for a fun, game-like look */
        .card {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease-in-out;
            border: 1px solid #e5e7eb;
            background-color: white;
        }

        .lesson-header {
            background-color: #4a7bed;
            color: white;
            padding: 1.5rem;
            border-radius: 0.75rem 0.75rem 0 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .concept-section {
            border-left: 5px solid #10b981;
        }

        .mcq-option:hover {
            background-color: #f3f4f6;
        }

        .correct {
            background-color: #d1fae5; /* Light green */
            border-color: #10b981;
            font-weight: 600;
        }

        .incorrect {
            background-color: #fee2e2; /* Light red */
            border-color: #ef4444;
            font-weight: 600;
        }

        /* Styling for the diagram activity inputs */
        .diagram-input {
            width: 50px;
            text-align: center;
            border: 2px solid #ccc;
            border-radius: 0.375rem;
            font-weight: 600;
            color: #4a7bed;
            transition: border-color 0.2s;
        }
        .diagram-input:focus {
            border-color: #4a7bed;
            outline: none;
        }
    </style>
</head>

<body class="bg-bg-dark font-sans p-4 sm:p-8">

    <div class="max-w-4xl mx-auto">
        <header class="card rounded-xl mb-6 overflow-hidden">
            <div class="lesson-header">
                <h1 class="text-3xl sm:text-4xl font-bold">Algebra Adventure: Factorization Power!</h1>
                <p class="mt-2 text-lg">Master the secrets of taking expressions apart and putting them back together. (Grade 9 Level)</p>
            </div>
        </header>

        <!-- Lesson Container -->
        <main class="space-y-8">

            <!-- CONCEPT 1: Factoring by Grouping (Four Terms) -->
            <section id="concept1" class="card p-6 rounded-xl concept-section">
                <h2 class="text-2xl font-bold text-algebra-blue mb-4 flex items-center">
                    <span class="mr-2 text-3xl">üß©</span> 1. The Power of Partners: Factoring by Grouping
                </h2>
                <div class="text-gray-700 space-y-4">
                    <p>Imagine you have four friends, but they don't share a common hobby. What do you do? You group them into two pairs based on what they *do* share!</p>
                    <p class="bg-blue-50 p-3 rounded-lg border border-blue-200">
                        **The Concept:** We take an expression with four terms, like $ax + ay + bx + by$, and split it into two groups.
                    </p>
                    <p>
                        **Step-by-Step Breakdown:**
                        <ol class="list-decimal list-inside ml-4 space-y-2">
                            <li>**Group:** $(ax + ay) + (bx + by)$</li>
                            <li>**Factor out Common Factor (Group 1):** $a(x + y)$</li>
                            <li>**Factor out Common Factor (Group 2):** $b(x + y)$</li>
                            <li>**Look for the NEW Common Factor:** Now you have $a(x + y) + b(x + y)$. Notice that $(x + y)$ is common to both!</li>
                            <li>**Final Factorization:** $(x + y)(a + b)$ ‚Äî Done!</li>
                        </ol>
                    </p>
                    <p>
                        **Example: $3x + 6y + kx + 2ky$**
                        <br>Group 1: $3x + 6y = 3(x + 2y)$
                        <br>Group 2: $kx + 2ky = k(x + 2y)$
                        <br>Result: $(x + 2y)(3 + k)$
                    </p>
                </div>
            </section>

            <!-- CONCEPT 2: Factoring Trinomials (x^2 + bx + c) -->
            <section id="concept2" class="card p-6 rounded-xl concept-section">
                <h2 class="text-2xl font-bold text-algebra-blue mb-4 flex items-center">
                    <span class="mr-2 text-3xl">üéØ</span> 2. The Sum and Product Game: Factoring $x¬≤ + bx + c$
                </h2>
                <div class="text-gray-700 space-y-4">
                    <p>This is like a secret code challenge! You have a quadratic expression (a trinomial) and need to find two secret numbers, let's call them **P** and **Q**.</p>
                    <p class="bg-blue-50 p-3 rounded-lg border border-blue-200">
                        **The Secret Rule:**
                        <ul class="list-disc list-inside ml-4">
                            <li>Their **Product** ($\text{P} \times \text{Q}$) must equal the **Constant Term (c)**.</li>
                            <li>Their **Sum** ($\text{P} + \text{Q}$) must equal the **Middle Coefficient (b)**.</li>
                        </ul>
                    </p>
                    <p>
                        **Example: Factorize $x¬≤ + 7x + 12$**
                        <br>The constant term (c) is **12**. The middle coefficient (b) is **7**.
                        <ul class="list-disc list-inside ml-4">
                            <li>Pairs that multiply to 12: (1, 12), (2, 6), **(3, 4)**.</li>
                            <li>Which pair adds up to 7? **3 and 4**!</li>
                        </ul>
                        <br>
                        **The Factors are:** $(x + 3)(x + 4)$
                    </p>
                    <p class="bg-yellow-100 p-3 rounded-lg border border-yellow-300 font-semibold text-sm">
                        ‚ö†Ô∏è **Complex Concept Tip (The $-x$ terms!):** When factoring expressions like $x¬≤ - 8x + 12$, remember that two negative numbers multiplied together give a positive number! The pair you need is $(-2)$ and $(-6)$, because $(-2) \times (-6) = 12$ and $(-2) + (-6) = -8$. This is often where mistakes happen!
                    </p>
                </div>
            </section>
            
            <!-- EXERCISE: Area Diagram (Trinomials) -->
            <section id="ex1" class="card p-6 rounded-xl bg-bg-light">
                <h3 class="text-xl font-bold text-algebra-green mb-4 flex items-center">
                    <span class="mr-2 text-2xl">üìê</span> Diagram Activity: The Area Model
                </h3>
                <p class="text-gray-700 mb-4">You can think of factoring a trinomial $x¬≤ + 5x + 6$ as finding the width and height of a rectangle whose area is that expression. The total area is $x¬≤ + 5x + 6$. Fill in the missing side lengths to find the factors!</p>
                
                <div class="flex flex-col items-center justify-center p-4 bg-white rounded-lg border border-gray-200">
                    <div class="grid grid-cols-2 gap-0 border-4 border-gray-700 w-full max-w-sm">
                        <!-- Top Row Side Labels -->
                        <div class="col-span-1 border-r-4 border-gray-700 relative h-10">
                            <input id="sideA" type="text" class="diagram-input absolute -top-8 left-1/2 transform -translate-x-1/2" placeholder="X">
                        </div>
                        <div class="col-span-1 relative h-10">
                            <input id="sideB" type="text" class="diagram-input absolute -top-8 left-1/2 transform -translate-x-1/2" placeholder="P">
                        </div>

                        <!-- Grid Cells -->
                        <!-- Row 1 -->
                        <div class="p-2 border-b-4 border-r-4 border-gray-700 text-center font-bold bg-blue-100">
                            x¬≤
                        </div>
                        <div class="p-2 border-b-4 border-gray-700 text-center font-bold bg-yellow-100">
                            <span id="areaB">3x</span>
                        </div>
                        
                        <!-- Row 2 -->
                        <div class="p-2 border-r-4 border-gray-700 text-center font-bold bg-yellow-100">
                            <span id="areaC">2x</span>
                        </div>
                        <div class="p-2 text-center font-bold bg-red-100">
                            <span id="areaD">6</span>
                        </div>
                    </div>
                    
                    <!-- Left Column Side Labels -->
                    <div class="flex flex-col justify-around h-[8.5rem] w-8 absolute -left-16 top-0 hidden">
                        <!-- Placeholders - actual labels added below for better positioning -->
                    </div>
                </div>

                <div class="flex justify-center w-full max-w-sm mx-auto mt-6 space-x-4">
                    <p class="text-lg font-semibold">Factors: </p>
                    <div class="flex flex-col">
                        <input id="sideC" type="text" class="diagram-input mt-1" placeholder="X">
                        <input id="sideD" type="text" class="diagram-input mt-4" placeholder="Q">
                    </div>
                    <button onclick="checkDiagram()" class="bg-algebra-green hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg transition">
                        Check Factors
                    </button>
                </div>
                <p id="diagramResult" class="text-center mt-4 font-semibold"></p>
                <p class="text-sm text-center text-gray-500 mt-2">The four areas ($x¬≤, 3x, 2x, 6$) sum up to the trinomial $x¬≤ + 5x + 6$.</p>
            </section>

            <!-- CONCEPT 3: Difference of Two Squares -->
            <section id="concept3" class="card p-6 rounded-xl concept-section">
                <h2 class="text-2xl font-bold text-algebra-blue mb-4 flex items-center">
                    <span class="mr-2 text-3xl">‚ö°</span> 3. The Difference of Two Squares (D.O.T.S.)
                </h2>
                <div class="text-gray-700 space-y-4">
                    <p>This is the fastest factoring trick! The pattern is simple: **Something squared minus something else squared.** </p>
                    <p class="bg-blue-50 p-3 rounded-lg border border-blue-200">
                        **The Formula:** $a¬≤ - b¬≤ = (a - b)(a + b)$
                    </p>
                    <p>
                        **Why does it work?** When you multiply $(a - b)(a + b)$, the middle terms, $(-ab)$ and $(+ab)$, cancel each other out, leaving you with just the two squared terms!
                    </p>
                    <p>
                        **Complex Example Explained:** Factorize $2x¬≤ - 72$.
                        <ol class="list-decimal list-inside ml-4 space-y-2">
                            <li>**Look for a Common Factor FIRST!** Both 2 and 72 are divisible by 2. **2**($x¬≤ - 36$)</li>
                            <li>**Apply D.O.T.S. to the remaining part.** $x¬≤$ is $(x)¬≤$. $36$ is $(6)¬≤$.</li>
                            <li>**Final Factorization:** **2**$(x - 6)(x + 6)$. Always check for a common factor before applying D.O.T.S.</li>
                        </ol>
                    </p>
                </div>
            </section>

            <!-- Quiz Section (MCQ) -->
            <section id="quiz" class="card p-6 rounded-xl bg-bg-light">
                <h2 class="text-2xl font-bold text-algebra-yellow mb-4 flex items-center">
                    <span class="mr-2 text-3xl">üèÜ</span> Checkpoint Challenge: Multiple Choice Quiz
                </h2>
                <form id="quizForm" class="space-y-6">

                    <!-- Question 1: Factoring by Grouping (Text-based) -->
                    <div>
                        <p class="font-semibold mb-2">1. Factorize the expression: **ay - 2a + 5y - 10**</p>
                        <div class="space-y-2 text-sm">
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q1" value="A" class="mr-2"> **(y + 2)(a - 5)**</label>
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q1" value="B" class="mr-2"> **(y - 2)(a + 5)**</label>
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q1" value="C" class="mr-2"> **(a + 2)(y - 5)**</label>
                        </div>
                    </div>

                    <!-- Question 2: Factoring Trinomials (Sum/Product) -->
                    <div>
                        <p class="font-semibold mb-2">2. Which two integers have a **SUM of -1** and a **PRODUCT of -12**? (Needed to factor $x¬≤ - x - 12$)</p>
                        <div class="space-y-2 text-sm">
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q2" value="A" class="mr-2"> 4 and -3</label>
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q2" value="B" class="mr-2"> -4 and 3</label>
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q2" value="C" class="mr-2"> 6 and -2</label>
                        </div>
                    </div>

                    <!-- Question 3: Difference of Two Squares (Diagram/Visual) -->
                    <div>
                        <p class="font-semibold mb-2">3. The area of the shaded ring below is $100\pi - 4\pi$. What is its factorization?</p>
                        <div class="bg-gray-100 p-4 rounded-lg text-center my-3">
                            <!-- Placeholder for a geometric image based on D.O.T.S. -->
                            <p class="text-xs mt-2 text-gray-600">Hint: Factor out the common $\pi$ first.</p>
                        </div>
                        <div class="space-y-2 text-sm">
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q3" value="A" class="mr-2"> $\pi(10 - 2)(10 + 2)$</label>
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q3" value="B" class="mr-2"> $(10 - 2\pi)(10 + 2\pi)$</label>
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q3" value="C" class="mr-2"> $4\pi(25 - 1)$</label>
                        </div>
                    </div>

                    <!-- Question 4: Factoring Trinomials (Negative Constant Term) -->
                    <div>
                        <p class="font-semibold mb-2">4. Factorize: **y¬≤ + 2y - 15**</p>
                        <div class="space-y-2 text-sm">
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q4" value="A" class="mr-2"> **(y + 5)(y - 3)**</label>
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q4" value="B" class="mr-2"> **(y - 5)(y + 3)**</label>
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q4" value="C" class="mr-2"> **(y + 15)(y - 1)**</label>
                        </div>
                    </div>

                    <!-- Question 5: Factoring D.O.T.S. (Fractions) -->
                    <div>
                        <p class="font-semibold mb-2">5. The expression **x¬≤/4 - 1/9** is a difference of two squares. What is **a** and **b** in the formula **(a-b)(a+b)**?</p>
                        <div class="space-y-2 text-sm">
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q5" value="A" class="mr-2"> $a=x/4$, $b=1/9$</label>
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q5" value="B" class="mr-2"> $a=x^2$, $b=1$</label>
                            <label class="block mcq-option p-3 rounded-lg border cursor-pointer"><input type="radio" name="q5" value="C" class="mr-2"> $a=x/2$, $b=1/3$</label>
                        </div>
                    </div>

                    <div class="flex justify-center pt-4">
                        <button type="button" onclick="submitQuiz()" class="bg-algebra-red hover:bg-red-600 text-white font-bold py-3 px-6 rounded-xl transition shadow-lg">
                            Submit Quiz & See Your Score!
                        </button>
                    </div>
                </form>
                <div id="quizResult" class="mt-4 p-4 rounded-lg text-center hidden"></div>
            </section>

        </main>
    </div>

    <script>
        // --- Diagram Activity Logic ---

        const diagramResult = document.getElementById('diagramResult');

        // Check the Diagram Activity
        function checkDiagram() {
            const sideA = document.getElementById('sideA').value.trim();
            const sideB = document.getElementById('sideB').value.trim();
            const sideC = document.getElementById('sideC').value.trim();
            const sideD = document.getElementById('sideD').value.trim();

            // Expected answers for x^2 + 5x + 6 = (x+2)(x+3)
            // (a+b)(c+d) where a=x, b=3, c=x, d=2. Or vice versa.

            const correctSet1 = { a: 'x', b: '3', c: 'x', d: '2' };
            const correctSet2 = { a: 'x', b: '2', c: 'x', d: '3' };
            
            const isSet1 = (sideA.toLowerCase() === correctSet1.a && sideB === correctSet1.b && sideC.toLowerCase() === correctSet1.c && sideD === correctSet1.d);
            const isSet2 = (sideA.toLowerCase() === correctSet2.a && sideB === correctSet2.b && sideC.toLowerCase() === correctSet2.c && sideD === correctSet2.d);

            if (isSet1 || isSet2) {
                diagramResult.className = 'text-center mt-4 font-semibold text-algebra-green';
                diagramResult.innerHTML = 'üéâ **Correct!** The factors are $(x+3)$ and $(x+2)$ (or vice versa)! You found the side lengths!';
            } else if (sideA === '' || sideB === '' || sideC === '' || sideD === '') {
                diagramResult.className = 'text-center mt-4 font-semibold text-algebra-yellow';
                diagramResult.innerHTML = 'ü§î Please fill in all four boxes to check your answer.';
            }
             else {
                diagramResult.className = 'text-center mt-4 font-semibold text-algebra-red';
                diagramResult.innerHTML = '‚ùå **Keep trying!** Remember, you need terms that multiply to get the area of each small box.';
            }
        }


        // --- MCQ Quiz Logic ---

        const correctAnswers = {
            q1: 'B', // (y-2)(a+5) = ay - 2a + 5y - 10
            q2: 'B', // -4 and 3: Sum = -1, Product = -12. Factors are (x-4)(x+3)
            q3: 'A', // 100pi - 4pi = pi(100 - 4) = pi(10^2 - 2^2) = pi(10-2)(10+2)
            q4: 'A', // y^2 + 5y - 3y - 15 = y(y+5) - 3(y+5) = (y+5)(y-3)
            q5: 'C'  // sqrt(x^2/4) = x/2, sqrt(1/9) = 1/3
        };

        function submitQuiz() {
            const form = document.getElementById('quizForm');
            const resultDiv = document.getElementById('quizResult');
            let score = 0;
            const totalQuestions = Object.keys(correctAnswers).length;

            // Clear previous results and styles
            resultDiv.classList.add('hidden');
            document.querySelectorAll('.mcq-option').forEach(el => {
                el.classList.remove('correct', 'incorrect', 'border-algebra-green', 'border-algebra-red');
            });

            for (const qKey in correctAnswers) {
                const selected = form.elements[qKey].value;
                const correctValue = correctAnswers[qKey];
                const selectedLabel = document.querySelector(`input[name="${qKey}"][value="${selected}"]`).closest('label');
                const correctLabel = document.querySelector(`input[name="${qKey}"][value="${correctValue}"]`).closest('label');
                
                if (selected === correctValue) {
                    score++;
                    if (selectedLabel) selectedLabel.classList.add('correct', 'border-algebra-green');
                } else {
                    if (selectedLabel) selectedLabel.classList.add('incorrect', 'border-algebra-red');
                    if (correctLabel) correctLabel.classList.add('correct', 'border-algebra-green'); // Show correct answer
                }
            }

            // Display results
            resultDiv.classList.remove('hidden');
            resultDiv.classList.remove('bg-red-100', 'bg-yellow-100', 'bg-green-100');
            resultDiv.classList.add('border-2');

            let message = '';
            let bgColor = '';

            if (score === totalQuestions) {
                message = `üåü **PERFECT SCORE!** You scored ${score} out of ${totalQuestions}. You are a Factoring Master!`;
                bgColor = 'bg-green-100 border-algebra-green';
            } else if (score >= totalQuestions / 2) {
                message = `‚úÖ **Great Job!** You scored ${score} out of ${totalQuestions}. You've got the concepts down, just practice a little more!`;
                bgColor = 'bg-yellow-100 border-algebra-yellow';
            } else {
                message = `üßê **Keep Studying!** You scored ${score} out of ${totalQuestions}. Review the tricky parts, especially Concept 2 & 3. You'll get there!`;
                bgColor = 'bg-red-100 border-algebra-red';
            }

            resultDiv.className = `mt-4 p-4 rounded-lg text-center font-bold ${bgColor}`;
            resultDiv.innerHTML = message;
        }

    </script>
</body>
</html>
